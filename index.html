<!DOCTYPE html>
<html lang="jp">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="hamburger.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="hamburger.js"></script>
    
    <!--楽天API-->
    <script>
        var data3;
        var random = Math.round(Math.random() * 3);
        var request = new XMLHttpRequest();
        var request2 = new XMLHttpRequest();

        request.open('GET', 'https://app.rakuten.co.jp/services/api/Recipe/CategoryRanking/20170426?format=json&categoryId=16-152-150&applicationId=1051623488993120985', true);
        request.responseType = 'json';

        request2.open('GET', 'https://app.rakuten.co.jp/services/api/Recipe/CategoryRanking/20170426?format=json&categoryId=16-152&applicationId=1051623488993120985', true);
        request2.responseType = 'json';

        request.onload = function() {
            var data = this.response.result;

            request2.onload = function() {
                var data2 = this.response.result;
                console.log(data2[0]['foodImageUrl']);
                data3 = data.concat(data2[random]);
                console.log(data3);

                $(function() {
                    for (var i = 0; i <= 4; i++) {
                        console.log(i);
                        console.log(data3[i]);
                        create(data3[i]['foodImageUrl'], data3[i]['recipeUrl'], data3[i]['recipeTitle']);
                    }
                });
            };
        };

        request.send();
        request2.send();
    
        //DOM生成
        function create(img, url, text) {
            var card = $("<a>").attr({
                href: url,
                class: "item",
                target: "_blank"
            });
            var content = $("<div>").addClass("content");
            content.append($("<img>").attr({
                src: img,
                alt: ""
            }));
            content.append($("<p>").text(text));
            card.append(content);
            $('.rakuten').append(card);
        }
    </script>
    <!--font-->
    <script>
        (function(d) {
            var config = {
                    kitId: 'bxl2jri',
                    scriptTimeout: 3000,
                    async: true
                },
                h = d.documentElement,
                t = setTimeout(function() {
                    h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
                }, config.scriptTimeout),
                tk = d.createElement("script"),
                f = false,
                s = d.getElementsByTagName("script")[0],
                a;
            h.className += " wf-loading";
            tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
            tk.async = true;
            tk.onload = tk.onreadystatechange = function() {
                a = this.readyState;
                if (f || a && a != "complete" && a != "loaded") return;
                f = true;
                clearTimeout(t);
                try {
                    Typekit.load(config)
                } catch (e) {}
            };
            s.parentNode.insertBefore(tk, s)
        })(document);
    </script>
    <!--順番にフェイドイン-->
    <script>
        $(function() {
            $(window).scroll(function() {
                $('.item').each(function() {
                    var elemPos = $(this).offset().top;
                    var scroll = $(window).scrollTop();
                    var windowHeight = $(window).height();
                    if (scroll > elemPos - windowHeight) {
                        $(this).addClass('item-scroll');
                    }
                });
            });
        });
    </script>
</head>

<body>
    <header>
        <div class="hamburger">
            <nav class="dc-menu">
                <a href="#" class="dc-menu-trigger"><span>Menu</span></a>
                <div class="menu-overlay">
                    <ul>
                        <li class="menu-button"><a href="#charm">うどんの魅力</a></li>
                        <li class="menu-button"><a href="#gotouchi">ご当地うどん</a></li>
                        <li class="menu-button"><a href="#home">おうちうどん</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="headerImage">
            <img src="img/logo.svg" alt="" class="delayed-image">
        </div>
        <nav class="gnavi main delayed-image">
            <ul>
                <li>
                    <div class="diamond"><a href="#charm">
                            <div class="diamond__inner">
                                <p>うどん<br>の魅力</p>
                            </div>
                        </a></div>
                </li>
                <li>
                    <div class="diamond"><a href="#gotouchi">
                            <div class="diamond__inner">
                                <p>ご当地<br>うどん</p>
                            </div>
                        </a></div>
                </li>
                <li>
                    <div class="diamond"><a href="#home">
                            <div class="diamond__inner">
                                <p>おうち<br>うどん</p>
                            </div>
                        </a></div>
                </li>
            </ul>
        </nav>
    </header>
    <section id="charm">
        <div class="main item">
            <h1><span style="line-height: 100px">旅先でも</span><br>うどんだ</h1>
            <p class="desc">うどんは小麦粉に水を加えて練り合わせ、めん状に加工したものです。<br>歴史は、そばよりも古く、日本人に最も愛されてきた料理といえます。</p>
            <div class="contents">
                <div class="point item">
                    <img src="img/japan.svg" alt="">
                    <p>日本の国民食</p>
                </div>
                <div class="point item">
                    <img src="img/udon-navy.svg" alt="">
                    <p>バリエーション豊富</p>
                </div>
                <div class="point item">
                    <img src="img/wallet.svg" alt="">
                    <p>お財布に優しい</p>
                </div>
            </div>
        </div>
    </section>
    <section id="gotouchi">
        <div class="main item">
            <h1>ご当地うどん</h1>
            <p class="desc">日本各地には、うどんを使った郷土料理がたくさんあります。<br>ここでは、全国の個性的なうどんを紹介します。</p>
        </div>
    </section>
    <section id="home">
        <div class="main item">
            <h1>おうちうどん</h1>
            <p class="desc">旅に行けなくても、うどんは家で楽しむことができます。<br>楽天レシピに掲載されている個性的なレシピを紹介します。</p>
        </div>
        <div class="rakuten">
        </div>
    </section>
    <footer class="main item">
        <div class="sns">
            <a href="#"><img src="img/facebook.svg"></a>
            <a href="#"><img src="img/twitter.svg"></a>
        </div>
        <p class="desc">&copy; Yo Higashida</p>
    </footer>
</body></html>
